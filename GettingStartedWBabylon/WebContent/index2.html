<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html" charset="utf-8" />
<title>Babylon - Getting Started</title>
<!-- link to the last version of babylon -->
<script src="https://cdn.babylonjs.com/babylon.js"></script>

<script src="babylon.objFileLoader.js"></script>
<head>

<style>
html, body {
	overflow: hidden;
	width: 100%;
	height: 100%;
	margin: 0;
	padding: 0;
}

#renderCanvas {
	width: 100%;
	height: 100%;
	touch-action: none;
}
</style>

</head>
<body>
	<canvas id="renderCanvas"></canvas>


	<script>
    window.addEventListener('DOMContentLoaded', function() {

        //get reference of canvas element from HTML
    	var canvas = document.getElementById('renderCanvas');
        //load Babylon engine
    	var engine = new BABYLON.Engine(canvas, true);
        
        
    	/******* generate scene ******/
    	
        var createScene = function() {
    		
        	// Create the scene space
            var scene = new BABYLON.Scene(engine);

            // Add a camera to the scene and attach it to the canvas
            var camera = new BABYLON.ArcRotateCamera("Camera", 3 * Math.PI / 4, Math.PI / 4, 4, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);

            // Add lights to the scene
            var light1 = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(1, 1, 0), scene);
            var light2 = new BABYLON.PointLight("light2", new BABYLON.Vector3(0, 1, -1), scene);

            // Add and manipulate meshes in the scene
            var box = BABYLON.MeshBuilder.CreateBox("box", {height: 1, width: 0.75, depth: 0.25}, scene);
            
            BABYLON.SceneLoader.Append("/objects/", "RoaryForPoly.obj", scene, function (scene) {
                // do something with the scene
            });
            

            return scene;
            
		}
        
        
        /******* End of the create scene function ******/
        
        //call scene
        var scene = createScene();
        //register render loop on canvas
        engine.runRenderLoop(function() {
            scene.render();
        });
        //window resize event handler
        window.addEventListener('resize', function() {
            engine.resize();
        });
        
   });
</script>
</body>
</html>